clc;
clear;
close;

p_u = [0,11.85,23.52,34.96,46.31,57.41,68.33,79.07,89.48,99.85,110,120.2,130.1,139.8,149.1,158.5,168,176.7,185.9,194.7,203.3,211.8];

trans_eff_u = [0,34.7,54,63.5,69.7,73.7,76.5,78.8,80.4,81.5,82.4,86.4,84.1,84.6,85,85.4,85.6,85.8,85.9,86,86.1,86.3];

p_x = [0,13.19,26.08,38.47,49.53,61.15,72.48,83.41,93.81,104.1,113.5,123.1,132.5,141.6,150.4,158.6,167,174.3,182.5,190.1,197.5,204.6];
trans_eff_x = [0,38.5,56.5,65.1,70,73.6,76.1,77.8,79.1,79.95,80.5,81,81.3,81.5,81.6,81.4,81.6,81.3,81.4,81.2,81.2,81];

vr_u = [0,0.671,1.523,1.437,1.954,2.389,2.652,3.093,3.538,4.530,4.348,4.803,5.356,5.634,6.195,6.572,6.952,7.431,7.914,8.206,8.794,9.190];
vr_x = [0,1.095197978,1.781170483,2.564102564,3.359173127,4.25716768,5.078809107,5.82010582,6.666666667,7.430617726,8.303249097,9.090909091,9.789569991,10.59907834,11.52416357,12.25444341,12.99435028,13.74407583,14.61318052,15.49566891,16.16650532,17.07317073];


figure('name', 'lab 4 graphs');
subplot(1,2,1)
plot(p_u,trans_eff_u,'g', 'linewidth', 3);
title('Transformer Efficiency vs Real Power (load)');
hold on;
grid on;
xlabel('W');
ylabel('\eta');
plot(p_x,trans_eff_x,'r', 'linewidth', 3);
legend('pf = 1','pf = 0.707', 'Location', 'best');
subplot(1,2,2);
plot(p_u,vr_u,'g', 'linewidth', 3);
title('Voltage Regulation vs Real Power (load)');
hold on;
grid on;
xlabel('W');
ylabel('VR%');
plot(p_x,vr_x,'r', 'linewidth', 3);
legend('pf = 1','pf = 0.707', 'Location', 'best');